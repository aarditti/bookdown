<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data | Large Wood Impacts on Sediment Transport Following Wildfire</title>
  <meta name="description" content="This shows my work for my Reproducible Data Science Class. I am a graduate student at Utah State University in the Watershed Sciences Department" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data | Large Wood Impacts on Sediment Transport Following Wildfire" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This shows my work for my Reproducible Data Science Class. I am a graduate student at Utah State University in the Watershed Sciences Department" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data | Large Wood Impacts on Sediment Transport Following Wildfire" />
  
  <meta name="twitter:description" content="This shows my work for my Reproducible Data Science Class. I am a graduate student at Utah State University in the Watershed Sciences Department" />
  

<meta name="author" content="Alec Arditti" />


<meta name="date" content="2021-03-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="methods.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview-of-project"><i class="fa fa-check"></i><b>1.1</b> Overview of Project</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#project-background"><i class="fa fa-check"></i><b>1.2</b> Project Background</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a><ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#datasets"><i class="fa fa-check"></i><b>2.1</b> Datasets</a></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#database-structure"><i class="fa fa-check"></i><b>2.2</b> Database Structure</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#build-the-database"><i class="fa fa-check"></i><b>2.3</b> Build the Database</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Methods</a></li>
<li class="chapter" data-level="4" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>4</b> Applications</a><ul>
<li class="chapter" data-level="4.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>4.1</b> Example one</a></li>
<li class="chapter" data-level="4.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>4.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>5</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Large Wood Impacts on Sediment Transport Following Wildfire</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Data</h1>
<div id="datasets" class="section level2">
<h2><span class="header-section-number">2.1</span> Datasets</h2>
<p>Fires dataset: These are past wildfires that will serve as study sites. These 18 sites have been selected on the basis of having variable slope steepness, coniferous cover and burn severity.</p>
<p>Satellite Imagery: This consists of Google and Hexagon available aerial imagery that will be used for analysis.Imagery was taken at different points along a 10 year period and varies in resolution and extent.</p>
<p>LW (large wood) dataset: LW features (jams and individual logs) will be stored in this dataset.Attributes of features will be recorded based on the aerial imagery and context of the burn severity as well as the valley bottom.</p>
</div>
<div id="database-structure" class="section level2">
<h2><span class="header-section-number">2.2</span> Database Structure</h2>
<p>LW (large wood) data will be collected for each fire based on available satellite imagery in different years. Each temporal point will consist of an LW dataset and these datasets will be compiled for each fire to comprise a database.</p>
<div class="figure">
<img src="schema.png" alt="" />
<p class="caption">Figure 1- Database Schema</p>
</div>
</div>
<div id="build-the-database" class="section level2">
<h2><span class="header-section-number">2.3</span> Build the Database</h2>
<p>First I will connect to the database:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data.html#cb2-1"></a>lw &lt;-<span class="st"> </span><span class="kw">dbConnect</span>(RSQLite<span class="op">::</span><span class="kw">SQLite</span>(), <span class="st">&quot;C:/Users/BelmontLab/Documents/Alec/School/Spring 2021/Full Lifecycle of Data Management/R markdown assignment/lw.db&quot;</span>)</span></code></pre></div>
<p>Then I will add each dataset to the database and link them</p>
<ol style="list-style-type: decimal">
<li>Fires</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data.html#cb3-1"></a><span class="kw">dbExecute</span>(lw, <span class="st">&quot;CREATE TABLE Fires (</span></span>
<span id="cb3-2"><a href="data.html#cb3-2"></a><span class="st">Fire_name varchar(25) NOT NULL,</span></span>
<span id="cb3-3"><a href="data.html#cb3-3"></a><span class="st">Acreage varchar(5),</span></span>
<span id="cb3-4"><a href="data.html#cb3-4"></a><span class="st">Avg_slope varchar(5),</span></span>
<span id="cb3-5"><a href="data.html#cb3-5"></a><span class="st">Per_conifer varchar(5),</span></span>
<span id="cb3-6"><a href="data.html#cb3-6"></a><span class="st">Severity varchar(5),</span></span>
<span id="cb3-7"><a href="data.html#cb3-7"></a><span class="st">PRIMARY KEY (Fire_name)</span></span>
<span id="cb3-8"><a href="data.html#cb3-8"></a><span class="st">);&quot;</span>)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Imagery</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data.html#cb4-1"></a><span class="kw">dbExecute</span>(lw, <span class="st">&quot;CREATE TABLE Satellite_Imagery (</span></span>
<span id="cb4-2"><a href="data.html#cb4-2"></a><span class="st">Imagery_ID varchar(2) NOT NULL,</span></span>
<span id="cb4-3"><a href="data.html#cb4-3"></a><span class="st">Platform varchar(25),</span></span>
<span id="cb4-4"><a href="data.html#cb4-4"></a><span class="st">Month varchar(10),</span></span>
<span id="cb4-5"><a href="data.html#cb4-5"></a><span class="st">Year char(4),</span></span>
<span id="cb4-6"><a href="data.html#cb4-6"></a><span class="st">Fire_name varchar(25),</span></span>
<span id="cb4-7"><a href="data.html#cb4-7"></a><span class="st">PRIMARY KEY (Imagery_ID),</span></span>
<span id="cb4-8"><a href="data.html#cb4-8"></a><span class="st">FOREIGN KEY (Fire_name) REFERENCES Fires(Fire_name)</span></span>
<span id="cb4-9"><a href="data.html#cb4-9"></a><span class="st">);&quot;</span>)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Large Wood</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data.html#cb5-1"></a><span class="kw">dbExecute</span>(lw, <span class="st">&quot;CREATE TABLE LW_DATA (</span></span>
<span id="cb5-2"><a href="data.html#cb5-2"></a><span class="st">Object_ID varchar(3) NOT NULL,</span></span>
<span id="cb5-3"><a href="data.html#cb5-3"></a><span class="st">Fire_name varchar(25),</span></span>
<span id="cb5-4"><a href="data.html#cb5-4"></a><span class="st">Imagery_ID varchar(2),</span></span>
<span id="cb5-5"><a href="data.html#cb5-5"></a><span class="st">SHAPE char(5),</span></span>
<span id="cb5-6"><a href="data.html#cb5-6"></a><span class="st">Quantity varchar(3),</span></span>
<span id="cb5-7"><a href="data.html#cb5-7"></a><span class="st">Location varchar(20) CHECK (Location IN (&#39;In Channel&#39;, &#39;Channel &amp; Floodplain&#39;, &#39;Only in floodplain&#39;, &#39;Crosses entire channel&#39;)),</span></span>
<span id="cb5-8"><a href="data.html#cb5-8"></a><span class="st">Obscured varchar(20) CHECK (Obscured IN (&#39;No pieces obscured&#39;, &#39;Some pieces obscured&#39;,&#39; Many pieces obscured&#39;)),</span></span>
<span id="cb5-9"><a href="data.html#cb5-9"></a><span class="st">Setting varchar(20), CHECK (Setting IN (&#39;Fluvial&#39;, &#39;Debris Flow&#39;))</span></span>
<span id="cb5-10"><a href="data.html#cb5-10"></a><span class="st">Area_m2 varchar(5),</span></span>
<span id="cb5-11"><a href="data.html#cb5-11"></a><span class="st">Shape_Length varchar(5),</span></span>
<span id="cb5-12"><a href="data.html#cb5-12"></a><span class="st">Shape_Area varchar(5),</span></span>
<span id="cb5-13"><a href="data.html#cb5-13"></a><span class="st">PRIMARY KEY (Object_ID),</span></span>
<span id="cb5-14"><a href="data.html#cb5-14"></a><span class="st">FOREIGN KEY (Fire_name) REFERENCES Fires(Fire_name)</span></span>
<span id="cb5-15"><a href="data.html#cb5-15"></a><span class="st">FOREIGN KEY (Imagery_ID) REFERENCES Satellite_Imagery(Imagery_ID)</span></span>
<span id="cb5-16"><a href="data.html#cb5-16"></a><span class="st">);&quot;</span>)</span></code></pre></div>
<blockquote>
<p>“That’s all folks!”</p>
</blockquote>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="methods.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Bookdown.pdf", "Bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
